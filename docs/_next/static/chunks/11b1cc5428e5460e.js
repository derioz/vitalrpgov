(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,83256,e=>{e.v(JSON.parse('[{"id":"log-0","version":"v3.8.0","title":"UX Polish & Stability","content":"### New Features\\r\\n- **Changelog Popup**: accessing the Changelog from the Admin Sidebar now opens a seamless modal overlay instead of navigating away from your work.","date":"2026-01-12","author":"System"},{"id":"log-1","version":"v3.7.5","title":"Hydration Stability","content":"### Bug Fixes\\r\\n- **Hydration Mismatch**: Added global suppression for hydration warnings (`suppressHydrationWarning`) to prevent crashes caused by browser extensions or hydration mismatches in the layout.","date":"2026-01-12","author":"System"},{"id":"log-2","version":"v3.7.4","title":"Navigation Stability","content":"### Bug Fixes\\r\\n- **Hard Navigation Fallback**: Replaced client-side routing with hard navigation (`<a>` tags) for the Changelog page. This bypasses the Next.js Client Router entirely for this specific route, eliminating RSC payload crashes.","date":"2026-01-12","author":"System"},{"id":"log-3","version":"v3.7.3","title":"Changelog Architecture Overhaul","content":"### Bug Fixes\\r\\n- **Changelog Navigation (Final Logic)**: Completely refactored the Changelog page architecture to prevent persistent \\"Application Errors\\" on navigation.\\r\\n    - **API Route**: Created `api/changelog` to serve update data as pure JSON.\\r\\n    - **Client-Side Fetch**: Converted the Changelog page to a fully Client-Side component that fetches data on mount, bypassing Next.js Server Component prefetching entirely.\\r\\n    - **Prefetch Disabled**: explicit `prefetch={false}` added to all Admin Sidebar links to prevent RSC payload mismatches.","date":"2026-01-12","author":"System"},{"id":"log-4","version":"v3.7.2","title":"Navigation & Hydration Fix","content":"### Bug Fixes\\r\\n- **Changelog Navigation**: Resolved a client-side exception that occurred when navigating to the Changelog page via the Admin Sidebar. Implemented a \\"Client-Side Mounting\\" strategy to safely handle hydration and prevent React Server Component conflicts during transitions.\\r\\n- **Import Stabilization**: Optimized imports in `DashboardClient.tsx` and `ClientChangelog.tsx` to prevent server-side Node.js modules from leaking into client-side bundles.","date":"2026-01-12","author":"System"},{"id":"log-5","version":"v3.7.1","title":"\\"Command Center\\" Changelog Redesign","content":"### Visual Overhaul\\r\\n- **Interactive Timeline**: Completely redesigned the Admin Changelog (`/admin/changelog`) with a sleek, vertical timeline layout.\\r\\n- **Smart Badges**: The system now automatically detects keywords in update notes (e.g., \\"**Feature**\\", \\"**Bug Fix**\\", \\"**Visual**\\") and transforms them into glowing, color-coded badges.\\r\\n- **Condensed UI**: Version history is now collapsible and condensed by default, allowing for easier navigation through long update histories.\\r\\n- **Premium Aesthetics**: Implemented glassmorphism cards, neon accents, and smooth expansion animations for a high-end feel.","date":"2026-01-12","author":"System"},{"id":"log-6","version":"v3.7","title":"Resources & Quick Links System","content":"### Feature: Faction Quick Links\\r\\n- **New Sidebar Widget**: Implemented a dedicated \\"Quick Links\\" widget for all factions (DOJ, LSPD, LSEMS, SAFD), separate from Official Resources.\\r\\n- **Admin Management**: Created independent managers for Quick Links (`/admin/[faction]/quick-links`) with icon picking and color selection.\\r\\n- **Migration**: Moved legacy navigation buttons (Join, Roster, SOPs, etc.) from horizontal bars into this new sidebar system for a cleaner UI.\\r\\n- **Smart Behavior**: Links starting with `#` now trigger smooth scrolling to page sections instead of opening new tabs.\\r\\n\\r\\n### Feature: Universal Resources\\r\\n- **Generic Architecture**: Refactored the Resources system to be fully generic, allowing any faction to have multiple resource lists (e.g., \\"Official Resources\\", \\"Quick Links\\").\\r\\n- **DOJ Migration**: Consolidated DOJ-specific resource handling into the universal system.\\r\\n- **Admin Panel**: Added dedicated \\"Resources\\" managers for all factions.\\r\\n\\r\\n### Visual & UX Improvements\\r\\n- **Contrast Update**: Increased background opacity and border contrast for Cards, Modals, and Rosters to improve readability against the black background.\\r\\n- **Admin Layout**: Fixed layout issues where the sidebar/content height was incorrect, removing unnecessary scrollbars.\\r\\n- **Bar Association**:\\r\\n  - Added Photo URL, Bar Number, and Firm fields to the Attorney Roster.\\r\\n  - Enhanced the Admin Bar Manager with photo upload support and nicer edit forms.\\r\\n- **Cleanup**: Removed deprecated \\"Quick Action\\" grids (MDT, Impound, Gang Intel) to declutter faction pages.","date":"2026-01-12","author":"System"},{"id":"log-7","version":"v3.6.2","title":"Admin \\"Command Center\\" Redesign","content":"### Admin Panel Overhaul\\r\\n- **Dual-Mode Sidebar**: Implemented Full vs. Mini (icon-only) toggle to maximize workspace area.\\r\\n- **Collapsible Categories**: Grouped navigation into collapsible sections (Judiciary, Police, Medical, Fire) for better organization.\\r\\n- **Horizontal Context Hub**: Added a secondary top bar with real-time breadcrumbs and dynamic **Quick Actions** (e.g., \\"New Post\\" button appears automatically in Announcements).\\r\\n- **Profile Standardization**: Consistent usage of custom `photoURL` across Navbar, Admin Top Bar, and Sidebar Profile items.\\r\\n\\r\\n### Navbar & UX\\r\\n- **Profile Dropdown**: Implemented a premium hover menu for the user pill with stabilized hover state.\\r\\n- **Visual Polish**: Added micro-animations to sidebar icons and enhanced glassmorphism depth.","date":"2026-01-11","author":"System"},{"id":"log-8","version":"v3.6.1","title":"Background Hotfix","content":"### Bug Fixes\\r\\n- **Layout Consistency**: Resolved an issue where **EMS** and **FD** pages had redundant layout files causing background \\"cutoff\\" bars and restricted widths on large monitors.\\r\\n- **Global Theme Sync**: Synchronized Navbar, Home Page, and Quick Navigation to use the pure black theme.","date":"2026-01-11","author":"System"},{"id":"log-9","version":"v3.6","title":"Dark Mode Redesign","content":"### Visual Overhaul & Dark Theme\\r\\n- **Global Dark Mode**: Switched to a pure black (`#000000`) theme for a premium, cinematic aesthetic.\\r\\n- **Admin Panel Redesign**:\\r\\n  - **Sidebar**: Compacted layout with semi-transparent, darker backgrounds.\\r\\n  - **Data Tables**: Reduced padding for higher information density, applied consistent dark styling to Records, Laws, Complaints, Careers, and Bar pages.\\r\\n- **Faction Pages**:\\r\\n  - Updated **LSPD**, **LSEMS**, **SAFD**, and **DOJ** pages with smaller headers and compact content blocks.\\r\\n  - **Components**: Redesigned `FactionRoster`, `FactionAnnouncements`, and `FactionJobs` to align with the new dark theme.","date":"2026-01-11","author":"System"},{"id":"log-10","version":"v3.5","title":"Visual Polish & Optimization","content":"### Visual Overhaul\\r\\n- **Global Typography**: Applied \\"Condensed Infinity\\" style - tighter tracking (`tracking-tighter`), reduced header sizes (`text-7xl` max), and adjusted line heights for a premium, dense feel.\\r\\n- **Layout Compression**: \\r\\n  - Reduced vertical spacing (`py`, `my`) by ~40% across all pages.\\r\\n  - Condensed Admin Sidebar items and sections for better information density.\\r\\n  - Tightened grid gaps throughout Faction and Admin pages.\\r\\n\\r\\n### Mobile Responsiveness\\r\\n- **Admin Panel**: \\r\\n  - Fixed \\"Invisible Menu\\" issue by implementing a dedicated `fixed` mobile navbar (`z-50`).\\r\\n  - Added auto-close behavior to sidebar links to improve navigation flow (fixed Dashboard link not closing menu).\\r\\n  - Adjusted mobile header sizing and responsiveness for Laws & Users pages.\\r\\n- **Faction Pages**: Ensured headers and grid layouts scale correctly on smaller screens.","date":"2026-01-10","author":"System"},{"id":"log-11","version":"v3.4","title":"Citizen Experience Update","content":"### New Features\\r\\n- **User Complaints Dashboard**: New portal (`/my-complaints`) for citizens to track filed complaints.\\r\\n- **Notification System**: Real-time badge in Navbar for unread updates on complaints.\\r\\n- **Enhanced Profile**: Users can now add IC Phone, Discord, Bio, and upload a Profile Photo.\\r\\n- **Roster 2.0**: Complete visual overhaul of Faction Rosters with large cards, hover effects, and detailed info.\\r\\n- **Developer Attribution**: Dedicated System Updates page with developer attribution and \\"Damon\\" icon.\\r\\n\\r\\n### Improvements\\r\\n- **Complaint Submission**: Improved success flow with direct link to tracking dashboard.\\r\\n- **Navbar**: Converted Notification Bell to interactive dropdown with \\"Mark all as read\\".\\r\\n- **Dashboard**: Implemented pagination (5 per page) for Recent Activity feed and added a \\"System Updates\\" widget.\\r\\n- **UX**: Removed redundant \\"My Complaints\\" text link in favor of the notification center.\\r\\n\\r\\n### Bug Fixes\\r\\n- **Navigation**: Resolved 404 errors during complaint status redirection by ensuring `basePath` compatibility.\\r\\n- **Complaint Modal**: Resolved issue where modal would leave page blurred after submission.\\r\\n- **Complaint Security**: Enforced stricter author verification to prevent spoofing.","date":"2026-01-09","author":"System"},{"id":"log-12","version":"v3.3","title":"Security & Roster Overhaul","content":"### New Features\\r\\n- **Roster Management**:\\r\\n    - Added image upload support for member portraits.\\r\\n    - Added \\"Edit Member\\" functionality for fixing mistakes.\\r\\n- **Security**:\\r\\n    - Implemented strict anti-spoofing for Complaints.\\r\\n    - Locked identity fields for logged-in users.\\r\\n- **Role System**:\\r\\n    - Introduced **Superadmin** role for global management.\\r\\n    - Scoped `admin` role to Department Leader (only sees their dept).\\r\\n    - Restricted \\"Manage Users\\" to Superadmins.\\r\\n    - **Complaint System**:\\r\\n        - **Resolution Workflow**: Added \\"Active\\" vs \\"History\\" tabs.\\r\\n        - Resolved/Dismissed complaints automatically move to History.\\r\\n    - **Developer Experience**:\\r\\n        - **Changelog**: Added full Markdown rendering support (bold, lists, code blocks).\\r\\n    - **Bug Fixes**:\\r\\n        - **DOJ Page**: Fixed \\"File Complaint\\" modal blurring interaction bugs.\\r\\n        - **Submission Logic**: Fixed permission error preventing complaints from being sent.","date":"2026-01-09","author":"System"},{"id":"log-13","version":"v3.2","title":"Developer Ecosystem","content":"- **Admin Dashboard**: Complete refactor of `/admin` page.\\r\\n  - Replaced dummy stats with real-time data from Firestore (Users, Complaints, Roster, Jobs).\\r\\n  - Added role-based filtering for statistics and activity feeds.\\r\\n  - Implemented \\"Recent Activity\\" feed merging Announcements and Complaints.\\r\\n- **Changelog System**: Added \\"Developer Changelog\\" section to Admin Dashboard.\\r\\n  - Allows Admins to post update logs visible to all dashboard users.\\r\\n  - Created `changelogs` Firestore collection.\\r\\n- **UI**: Removed \\"System Health\\" widget; updated Sidebar version.","date":"2026-01-09","author":"System"},{"id":"log-14","version":"v3.1","title":"","content":"- **Roster System**: Implemented full roster management for LSPD, LSEMS, SAFD, and DOJ.\\r\\n- **Navigation**: Fixed 404 errors on roster pages; updated Admin Sidebar links.","date":null,"author":"System"},{"id":"log-15","version":"v3.0","title":"","content":"- **Initial Release**: detailed admin panel with complaints, careers, and laws management.","date":null,"author":"System"}]'))},49209,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(18789),i=e.i(11152);function n({items:e}){let[n,r]=(0,a.useState)(!1),[l,o]=(0,a.useState)(new Set([e[0]?.id]));if((0,a.useEffect)(()=>{r(!0)},[]),!n)return(0,t.jsx)("div",{className:"h-96 w-full animate-pulse bg-white/5 rounded-3xl"});let d=e=>{let t=new Set(l);t.has(e)?t.delete(e):t.add(e),o(t)},c={h3:({children:e})=>{let a=String(e).toLowerCase(),s="bg-slate-800 text-slate-300",n=i.FaInfoCircle;return a.includes("feature")||a.includes("new")?(s="bg-emerald-500/10 text-emerald-400 border-emerald-500/20",n=i.FaStar):a.includes("bug")||a.includes("fix")?(s="bg-red-500/10 text-red-400 border-red-500/20",n=i.FaBug):(a.includes("improvement")||a.includes("polish")||a.includes("visual"))&&(s="bg-blue-500/10 text-blue-400 border-blue-500/20",n=i.FaMagic),(0,t.jsxs)("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full border ${s} text-xs font-bold uppercase tracking-wider my-4`,children:[(0,t.jsx)(n,{className:"text-sm"}),e]})},ul:({children:e})=>(0,t.jsx)("ul",{className:"space-y-2 my-2",children:e}),li:({children:e})=>(0,t.jsxs)("li",{className:"flex items-start gap-2 text-slate-400 text-sm leading-relaxed",children:[(0,t.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-slate-600 mt-2 shrink-0"}),(0,t.jsx)("span",{children:e})]}),p:({children:e})=>(0,t.jsx)("p",{className:"text-slate-400 mb-2",children:e})};return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"flex justify-end gap-2 mb-4",children:[(0,t.jsx)("button",{onClick:()=>o(new Set(e.map(e=>e.id))),className:"px-3 py-1 text-xs font-bold text-slate-500 hover:text-white transition-colors",children:"EXPAND ALL"}),(0,t.jsx)("div",{className:"w-px h-4 bg-slate-800 my-auto"}),(0,t.jsx)("button",{onClick:()=>o(new Set),className:"px-3 py-1 text-xs font-bold text-slate-500 hover:text-white transition-colors",children:"COLLAPSE ALL"})]}),(0,t.jsx)("div",{className:"relative border-l-2 border-slate-800 ml-4 md:ml-6 space-y-8 pb-12",children:e.map((e,a)=>{let n=l.has(e.id),r=0===a;return(0,t.jsxs)("div",{className:"relative pl-8 md:pl-12",children:[(0,t.jsx)("div",{className:`absolute -left-[9px] md:-left-[9px] top-6 w-5 h-5 rounded-full border-4 border-black transition-colors duration-300 z-10 ${r?"bg-pink-500 shadow-[0_0_15px_rgba(236,72,153,0.5)]":"bg-slate-700"}`}),(0,t.jsxs)("div",{className:`
                                    rounded-2xl border transition-all duration-300 overflow-hidden
                                    ${n?"bg-zinc-900/50 border-white/10 shadow-2xl":"bg-transparent border-transparent hover:bg-zinc-900/30 hover:border-white/5 cursor-pointer"}
                                `,onClick:()=>!n&&d(e.id),children:[(0,t.jsxs)("div",{className:"p-6 flex flex-col md:flex-row md:items-center gap-4 cursor-pointer select-none",onClick:t=>{t.stopPropagation(),d(e.id)},children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 min-w-[140px]",children:[(0,t.jsx)("span",{className:`text-xl font-black tracking-tight ${r?"text-white":"text-slate-400 group-hover:text-slate-200"}`,children:e.version}),r&&(0,t.jsx)("span",{className:"px-2 py-0.5 bg-pink-500 text-white text-[10px] font-bold uppercase rounded-full shadow-lg shadow-pink-500/20",children:"Latest"})]}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h2",{className:`font-bold transition-colors ${n||r?"text-white":"text-slate-400"}`,children:e.title}),(0,t.jsx)("div",{className:"text-xs font-mono text-slate-600 mt-1 uppercase tracking-widest",children:e.date||"Unknown Date"})]}),(0,t.jsx)("div",{className:"text-slate-500",children:n?(0,t.jsx)(i.FaChevronUp,{}):(0,t.jsx)(i.FaChevronDown,{})})]}),(0,t.jsx)("div",{className:`
                                        grid transition-[grid-template-rows] duration-500 ease-in-out
                                        ${n?"grid-rows-[1fr] opacity-100":"grid-rows-[0fr] opacity-0"}
                                    `,children:(0,t.jsx)("div",{className:"overflow-hidden",children:(0,t.jsx)("div",{className:"p-6 pt-0 border-t border-white/5",children:(0,t.jsx)("div",{className:"prose prose-invert max-w-none mt-4",children:(0,t.jsx)(s.default,{components:c,children:e.content})})})})})]})]},e.id)})})]})}e.s(["default",()=>n])},88760,e=>{"use strict";var t=e.i(43476),a=e.i(32341),s=e.i(18566),i=e.i(71645),n=e.i(22016),r=e.i(11152);function l({title:e,icon:a,children:s,isCollapsed:n,defaultOpen:l=!0}){let[o,d]=(0,i.useState)(l);return n?(0,t.jsx)("div",{className:"flex flex-col items-center gap-2 py-2",children:s}):(0,t.jsxs)("div",{className:"mb-2",children:[(0,t.jsxs)("button",{onClick:()=>d(!o),className:"w-full flex items-center justify-between px-3 py-2 text-[10px] font-black text-slate-500 hover:text-white uppercase tracking-[0.2em] transition-colors group",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[a&&(0,t.jsx)(a,{className:"text-sm opacity-50 group-hover:opacity-100"}),(0,t.jsx)("span",{children:e})]}),(0,t.jsx)(r.FaChevronDown,{className:`text-[8px] transition-transform duration-300 ${o?"":"-rotate-90"}`})]}),(0,t.jsx)("div",{className:`
                    overflow-hidden transition-all duration-300 ease-in-out
                    ${o?"max-h-[1000px] opacity-100 mt-1":"max-h-0 opacity-0"}
                `,children:(0,t.jsx)("div",{className:"space-y-1",children:s})})]})}let o=({icon:e,label:a,href:s,active:i,isSystem:r=!1,onClick:l,isCollapsed:o,imageUrl:d,onOpenChangelog:c})=>{let m="/admin/changelog"===s,u=m?"div":n.default;return(0,t.jsxs)(u,{href:m?void 0:s,onClick:e=>{m&&c&&(e.preventDefault(),c()),l&&l()},title:o?a:"",className:`
            group flex items-center gap-3 px-3 py-2.5 rounded-xl transition-all duration-500 relative overflow-hidden
            ${m?"cursor-pointer":""}
            ${i?"bg-indigo-600 shadow-[0_0_25px_rgba(79,70,229,0.4)] text-white":"text-slate-400 hover:text-white hover:bg-white/5"}
            ${r?"hover:bg-red-500/10 hover:text-red-400":""}
            ${o?"justify-center px-0 w-12 mx-auto":""}
        `,children:[i&&(0,t.jsx)("div",{className:"absolute inset-0 bg-white/20 blur-xl"}),d?(0,t.jsx)("div",{className:`
                relative z-10 w-5 h-5 rounded-md overflow-hidden border border-white/20 transition-all duration-500
                ${i?"scale-110":"group-hover:scale-110 group-hover:rotate-6"}
            `,children:(0,t.jsx)("img",{src:d,alt:a,className:"w-full h-full object-cover"})}):(0,t.jsx)(e,{className:`
                relative z-10 transition-all duration-500
                ${i?"scale-110":"group-hover:scale-110 group-hover:rotate-6"}
                ${o?"text-lg":"text-sm"}
            `}),!o&&(0,t.jsx)("span",{className:"relative z-10 font-bold tracking-tight text-xs uppercase",children:a}),i&&!o&&(0,t.jsx)("div",{className:"absolute right-3 w-1 h-1 rounded-full bg-white animate-pulse shadow-[0_0_10px_rgba(255,255,255,0.8)]"})]})};function d({isCollapsed:e=!1,onToggle:i,onClose:n,onOpenChangelog:d}){let c=(0,s.usePathname)(),m=(0,s.useSearchParams)(),{signOut:u,userProfile:p,loading:h}=(0,a.useAuth)(),x=(e,t)=>m.get(e)===t,g=e=>!!("/admin"===e&&"/admin"===c||"/admin"!==e&&c.startsWith(e));if(h)return null;let b=p?.roles||[],f=b.includes("superadmin"),v=b.includes("admin"),C=f||v&&b.includes("lspd"),w=f||v&&b.includes("lsems"),j=f||v&&b.includes("safd"),k=f||v&&b.includes("doj");return(0,t.jsxs)("aside",{className:`
            h-full flex flex-col transition-all duration-500 ease-in-out
            bg-black/60 backdrop-blur-2xl border border-white/10 rounded-[2rem] overflow-hidden shadow-2xl relative
            ${e?"w-20":"w-80"}
        `,children:[(0,t.jsxs)("div",{className:`
                h-20 px-6 border-b border-white/5 flex items-center transition-all duration-500
                ${e?"justify-center px-0":"justify-between"}
            `,children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white shadow-xl shadow-indigo-500/20 group-hover:scale-105 transition-transform",children:(0,t.jsx)(r.FaShieldAlt,{size:18})}),!e&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"font-black text-white text-sm leading-none mb-1 tracking-tighter",children:"COMMAND"}),(0,t.jsx)("span",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-indigo-400/80",children:"CENTER"})]})]}),n&&(0,t.jsx)("button",{onClick:n,className:"lg:hidden text-slate-400 hover:text-white p-2",children:(0,t.jsx)(r.FaTimes,{size:16})})]}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto px-4 py-6 custom-scrollbar space-y-8",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(o,{icon:r.FaChartPie,label:"Dashboard",href:"/admin",active:"/admin"===c,onClick:n,isCollapsed:e}),(0,t.jsx)(o,{icon:r.FaCode,label:"Changelog",href:"/admin/changelog",active:"/admin/changelog"===c,isSystem:!0,onClick:n,isCollapsed:e,onOpenChangelog:d})]}),k&&(0,t.jsxs)(l,{title:"Judiciary",icon:r.FaGavel,isCollapsed:e,children:[(0,t.jsx)(o,{icon:r.FaBalanceScale,label:"Bar Association",href:"/admin/bar",active:c.includes("bar"),onClick:n,isCollapsed:e}),(0,t.jsx)(o,{icon:r.FaBook,label:"Public Records",href:"/admin/records",active:c.includes("records"),onClick:n,isCollapsed:e}),(0,t.jsx)(o,{icon:r.FaLink,label:"Resources",href:"/admin/doj/resources",active:g("/admin/doj/resources"),onClick:n,isCollapsed:e}),(0,t.jsx)(o,{icon:r.FaExternalLinkAlt,label:"Quick Links",href:"/admin/doj/quick-links",active:g("/admin/doj/quick-links"),onClick:n,isCollapsed:e}),(0,t.jsx)(o,{icon:r.FaGavel,label:"Court Dockets",href:"/admin/doj/dockets",active:g("/admin/doj/dockets"),onClick:n,isCollapsed:e}),(0,t.jsx)(o,{icon:r.FaExclamationCircle,label:"Complaints",href:"/admin/complaints?dept=DOJ",active:"/admin/complaints"===c&&(!m.get("dept")||x("dept","DOJ")),onClick:n,isCollapsed:e}),(0,t.jsx)(o,{icon:r.FaUserShield,label:"Roster",href:"/admin/roster?dept=DOJ",active:"/admin/roster"===c&&x("dept","DOJ"),onClick:n,isCollapsed:e}),(0,t.jsx)(o,{icon:r.FaBriefcase,label:"Careers",href:"/admin/careers?dept=DOJ",active:c.includes("careers")&&(!m.get("dept")||x("dept","DOJ")),onClick:n,isCollapsed:e})]}),C&&(0,t.jsxs)(l,{title:"Police",icon:r.FaShieldAlt,isCollapsed:e,children:[(0,t.jsx)(o,{icon:r.FaBullhorn,label:"Announcements",href:"/admin/announcements?dept=LSPD",active:c.includes("announcements")&&x("dept","LSPD"),onClick:n,isCollapsed:e}),(0,t.jsx)(o,{icon:r.FaExclamationCircle,label:"Complaints",href:"/admin/complaints?dept=LSPD",active:"/admin/complaints"===c&&x("dept","LSPD"),onClick:n,isCollapsed:e}),(0,t.jsx)(o,{icon:r.FaUserShield,label:"Roster",href:"/admin/roster?dept=LSPD",active:"/admin/roster"===c&&x("dept","LSPD"),onClick:n,isCollapsed:e}),(0,t.jsx)(o,{icon:r.FaLink,label:"Resources",href:"/admin/lspd/resources",active:g("/admin/lspd/resources"),onClick:n,isCollapsed:e}),(0,t.jsx)(o,{icon:r.FaExternalLinkAlt,label:"Quick Links",href:"/admin/lspd/quick-links",active:g("/admin/lspd/quick-links"),onClick:n,isCollapsed:e}),(0,t.jsx)(o,{icon:r.FaBriefcase,label:"Careers",href:"/admin/careers?dept=LSPD",active:c.includes("careers")&&x("dept","LSPD"),onClick:n,isCollapsed:e})]}),w&&(0,t.jsxs)(l,{title:"Medical",icon:r.FaAmbulance,isCollapsed:e,children:[(0,t.jsx)(o,{icon:r.FaBullhorn,label:"Announcements",href:"/admin/announcements?dept=LSEMS",active:c.includes("announcements")&&x("dept","LSEMS"),onClick:n,isCollapsed:e}),(0,t.jsx)(o,{icon:r.FaExclamationCircle,label:"Complaints",href:"/admin/complaints?dept=LSEMS",active:"/admin/complaints"===c&&x("dept","LSEMS"),onClick:n,isCollapsed:e}),(0,t.jsx)(o,{icon:r.FaUserShield,label:"Roster",href:"/admin/roster?dept=LSEMS",active:"/admin/roster"===c&&x("dept","LSEMS"),onClick:n,isCollapsed:e}),(0,t.jsx)(o,{icon:r.FaLink,label:"Resources",href:"/admin/lsems/resources",active:g("/admin/lsems/resources"),onClick:n,isCollapsed:e}),(0,t.jsx)(o,{icon:r.FaExternalLinkAlt,label:"Quick Links",href:"/admin/lsems/quick-links",active:g("/admin/lsems/quick-links"),onClick:n,isCollapsed:e}),(0,t.jsx)(o,{icon:r.FaBriefcase,label:"Careers",href:"/admin/careers?dept=LSEMS",active:c.includes("careers")&&x("dept","LSEMS"),onClick:n,isCollapsed:e})]}),j&&(0,t.jsxs)(l,{title:"Fire Dept",icon:r.FaFireExtinguisher,isCollapsed:e,children:[(0,t.jsx)(o,{icon:r.FaBullhorn,label:"Announcements",href:"/admin/announcements?dept=SAFD",active:c.includes("announcements")&&x("dept","SAFD"),onClick:n,isCollapsed:e}),(0,t.jsx)(o,{icon:r.FaExclamationCircle,label:"Complaints",href:"/admin/complaints?dept=SAFD",active:"/admin/complaints"===c&&x("dept","SAFD"),onClick:n,isCollapsed:e}),(0,t.jsx)(o,{icon:r.FaUserShield,label:"Roster",href:"/admin/roster?dept=SAFD",active:"/admin/roster"===c&&x("dept","SAFD"),onClick:n,isCollapsed:e}),(0,t.jsx)(o,{icon:r.FaLink,label:"Resources",href:"/admin/safd/resources",active:g("/admin/safd/resources"),onClick:n,isCollapsed:e}),(0,t.jsx)(o,{icon:r.FaExternalLinkAlt,label:"Quick Links",href:"/admin/safd/quick-links",active:g("/admin/safd/quick-links"),onClick:n,isCollapsed:e}),(0,t.jsx)(o,{icon:r.FaBriefcase,label:"Careers",href:"/admin/careers?dept=SAFD",active:c.includes("careers")&&x("dept","SAFD"),onClick:n,isCollapsed:e})]})]}),(0,t.jsx)("div",{className:"p-4 border-t border-white/5 bg-white/5 hidden lg:block",children:(0,t.jsx)("button",{onClick:i,className:"w-full h-10 rounded-xl flex items-center justify-center gap-2 hover:bg-white/10 text-slate-400 hover:text-white transition-all duration-300 group font-bold text-[10px] uppercase tracking-widest",children:e?(0,t.jsx)(r.FaChevronRight,{className:"group-hover:translate-x-0.5 transition-transform"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.FaChevronLeft,{className:"group-hover:-translate-x-0.5 transition-transform"}),(0,t.jsx)("span",{children:"Collapse Menu"})]})})}),(0,t.jsxs)("div",{className:"p-4 bg-black/40 border-t border-white/5 space-y-2 transition-all duration-500",children:[f&&(0,t.jsx)(o,{icon:r.FaUsers,label:"Manage Users",href:"/admin/users",active:g("/admin/users"),isSystem:!0,onClick:n,isCollapsed:e}),(0,t.jsx)(o,{icon:r.FaUserCircle,label:"My Profile",href:"/admin/profile",active:g("/admin/profile"),isSystem:!0,onClick:n,isCollapsed:e,imageUrl:p?.photoURL}),(0,t.jsxs)("button",{onClick:()=>u(),className:`
                        w-full flex items-center gap-3 px-4 py-3 rounded-xl text-red-400 hover:text-white hover:bg-red-500/20 transition-all duration-300 group
                        ${e?"justify-center px-0":""}
                    `,title:e?"Log Out":"",children:[(0,t.jsx)(r.FaSignOutAlt,{className:`${e?"text-lg":"text-sm"} group-hover:-translate-x-1 transition-transform`}),!e&&(0,t.jsx)("span",{className:"text-xs font-black uppercase tracking-widest",children:"Log Out"})]})]})]})}function c({onMobileMenuOpen:e,pageTitle:i}){let{user:n,userProfile:l}=(0,a.useAuth)(),o=(0,s.useRouter)(),d=(0,s.usePathname)(),c=(0,s.useSearchParams)();return(0,t.jsxs)("div",{className:"flex items-center justify-between px-6 py-3 mb-6 bg-white/[0.03] backdrop-blur-xl border border-white/5 rounded-2xl shadow-xl animate-fade-in-up",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("button",{onClick:e,className:"lg:hidden p-2 -ml-2 text-slate-400 hover:text-white transition-colors",children:(0,t.jsx)(r.FaBars,{size:18})}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"h-5 w-px bg-white/10 hidden md:block"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-[10px] font-black text-indigo-500 uppercase tracking-widest hidden sm:block",children:"Command"}),(0,t.jsx)("span",{className:"text-white/20 text-xs hidden sm:block",children:"/"}),(0,t.jsx)("h2",{className:"text-sm font-black text-white uppercase tracking-wider",children:i})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"hidden sm:flex items-center gap-2 pr-4 border-r border-white/10",children:[d.includes("announcements")&&(0,t.jsx)("button",{onClick:()=>o.push(`/admin/announcements/new?dept=${c.get("dept")||"LSPD"}`),className:"px-3 py-1.5 rounded-lg bg-indigo-500/10 hover:bg-indigo-500/20 text-indigo-400 border border-indigo-500/20 transition-all text-[10px] font-black uppercase tracking-widest",children:"+ New Post"}),d.includes("records")&&(0,t.jsx)("button",{onClick:()=>o.push("/admin/records/new"),className:"px-3 py-1.5 rounded-lg bg-emerald-500/10 hover:bg-emerald-500/20 text-emerald-400 border border-emerald-500/20 transition-all text-[10px] font-black uppercase tracking-widest",children:"+ New Record"}),d.includes("roster")&&(0,t.jsx)("button",{onClick:()=>o.push("/admin/roster/manage"),className:"px-3 py-1.5 rounded-lg bg-blue-500/10 hover:bg-blue-500/20 text-blue-400 border border-blue-500/20 transition-all text-[10px] font-black uppercase tracking-widest",children:"Manage Roster"})]}),(0,t.jsx)("div",{className:"flex items-center gap-4",children:(0,t.jsxs)("div",{className:"hidden md:flex flex-col items-end px-4 py-1.5 bg-white/5 rounded-xl border border-white/5",children:[(0,t.jsx)("span",{className:"text-[10px] font-black text-indigo-500 uppercase tracking-tighter",children:"System Ready"}),(0,t.jsx)("span",{className:"text-[9px] font-bold text-slate-500 uppercase tracking-widest",children:"Authenticated"})]})})]})]})}var m=e.i(49209),u=e.i(83256);function p({isOpen:e,onClose:a}){let[s,n]=(0,i.useState)(!1);if((0,i.useEffect)(()=>(n(!0),e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),!s||!e)return null;let l=u.default,o=Array.isArray(l)?l:l?.default||[];return(0,t.jsxs)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm animate-fade-in",onClick:a}),(0,t.jsxs)("div",{className:"relative w-full max-w-4xl max-h-[90vh] bg-slate-900 border border-slate-700/50 rounded-3xl shadow-2xl flex flex-col animate-scale-in overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-slate-800 bg-slate-900/50 backdrop-blur-md z-10 sticky top-0",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-black text-white tracking-tight",children:"System Updates"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"VitalRP Government Portal Changelog"})]}),(0,t.jsx)("button",{onClick:a,className:"p-2 rounded-full hover:bg-white/10 text-slate-400 hover:text-white transition-colors",children:(0,t.jsx)(r.FaTimes,{size:20})})]}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 custom-scrollbar",children:[(0,t.jsxs)("div",{className:"mb-6 flex items-center gap-4 p-4 bg-indigo-500/10 border border-indigo-500/20 rounded-xl",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-full border-2 border-indigo-400/30 overflow-hidden shrink-0",children:(0,t.jsx)("img",{src:"/images/damon_icon.png",alt:"Dev",className:"w-full h-full object-cover"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-indigo-200 font-bold text-sm",children:"Maintained by Damon"}),(0,t.jsx)("p",{className:"text-slate-400 text-xs",children:"Updates are deployed automatically via the CI/CD pipeline."})]})]}),(0,t.jsx)(m.default,{items:o})]})]})]})}let h=(0,i.createContext)({openChangelog:()=>{}});function x({children:e}){let{user:n,userProfile:r,loading:l}=(0,a.useAuth)(),o=(0,s.useRouter)(),m=(0,s.usePathname)(),[u,x]=(0,i.useState)(!1),[g,b]=(0,i.useState)(!1),[f,v]=(0,i.useState)(!1);if((0,i.useEffect)(()=>{l||n||o.push("/login")},[n,l,o]),l)return(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-slate-950 text-slate-400 font-mono tracking-widest uppercase animate-pulse",children:"INITIALIZING SECURE CONNECTION..."});if(!n)return null;let C="/admin/profile"===m;if(!(r?.roles&&r.roles.length>0)&&!C)return(0,t.jsxs)("div",{className:"min-h-screen bg-black flex flex-col items-center justify-center text-center p-6 relative overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-5"}),(0,t.jsx)("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-red-500/10 rounded-full blur-[100px]"}),(0,t.jsxs)("div",{className:"relative z-10 bg-slate-900/50 backdrop-blur-2xl border border-white/10 p-10 rounded-3xl max-w-lg shadow-2xl",children:[(0,t.jsx)("h1",{className:"text-4xl font-black text-red-500 mb-4 tracking-tight",children:"RESTRICTED ACCESS"}),(0,t.jsxs)("p",{className:"text-slate-400 mb-8 leading-relaxed",children:["You do not have the necessary security clearance to access the Government Command Center.",(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)("span",{className:"text-slate-500 text-sm",children:"Error Code: PERM_DENIED_NO_ROLES"})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsx)("button",{onClick:()=>o.push("/admin/profile"),className:"w-full py-4 rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-bold hover:shadow-lg hover:shadow-blue-600/20 transition-all transform hover:scale-[1.02]",children:"Access My Profile"}),(0,t.jsx)("button",{onClick:()=>o.push("/"),className:"w-full py-4 rounded-xl bg-slate-800 text-slate-300 font-bold hover:bg-slate-700 transition",children:"Return to Portal"})]})]})]});let w=m.split("/").filter(e=>e&&"admin"!==e),j=w.length>0?w[w.length-1].charAt(0).toUpperCase()+w[w.length-1].slice(1):"Dashboard";return(0,t.jsx)(h.Provider,{value:{openChangelog:()=>v(!0)},children:(0,t.jsxs)("div",{className:"min-h-screen bg-black text-slate-200 font-sans selection:bg-indigo-500/30 relative overflow-hidden",children:[(0,t.jsx)("div",{className:"fixed top-[-20%] left-[-10%] w-[1000px] h-[1000px] bg-indigo-900/10 rounded-full blur-[150px] pointer-events-none opacity-50"}),(0,t.jsx)("div",{className:"fixed bottom-[-20%] right-[-10%] w-[800px] h-[800px] bg-slate-800/20 rounded-full blur-[120px] pointer-events-none opacity-30"}),u&&(0,t.jsxs)("div",{className:"fixed inset-0 z-[60] lg:hidden font-sans",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>x(!1)}),(0,t.jsx)("div",{className:"absolute left-0 top-0 bottom-0 w-80 animate-fade-in-left",children:(0,t.jsx)(i.Suspense,{fallback:(0,t.jsx)("div",{className:"w-80 h-full bg-black/60 backdrop-blur-md"}),children:(0,t.jsx)(d,{isCollapsed:!1,onToggle:()=>{},onClose:()=>x(!1),onOpenChangelog:()=>v(!0)})})})]}),(0,t.jsxs)("div",{className:"flex transition-all duration-500 h-[calc(100vh-95px)] overflow-hidden p-4 md:p-6 gap-6",children:[(0,t.jsx)("div",{className:`
                    hidden lg:block transition-all duration-500 ease-in-out h-full
                    ${g?"w-20":"w-80"}
                `,children:(0,t.jsx)(i.Suspense,{fallback:(0,t.jsx)("div",{className:"w-full h-full bg-white/5 rounded-[2rem] animate-pulse"}),children:(0,t.jsx)(d,{isCollapsed:g,onToggle:()=>b(!g),onOpenChangelog:()=>v(!0)})})}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col min-w-0 h-full relative",children:[(0,t.jsx)(i.Suspense,{fallback:(0,t.jsx)("div",{className:"h-16 mb-6 bg-white/[0.03] rounded-2xl animate-pulse"}),children:(0,t.jsx)(c,{onMobileMenuOpen:()=>x(!0),pageTitle:j})}),(0,t.jsx)("main",{className:"flex-1 overflow-y-auto pr-2 custom-scrollbar animate-fade-in-up delay-100",children:e})]})]}),(0,t.jsx)(p,{isOpen:f,onClose:()=>v(!1)})]})})}e.s(["default",()=>x,"useAdminUI",0,()=>(0,i.useContext)(h)],88760)}]);