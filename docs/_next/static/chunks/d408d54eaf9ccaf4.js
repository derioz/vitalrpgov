(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,86851,e=>{"use strict";var t=e.i(43476),s=e.i(71645),l=e.i(32341),r=e.i(59141);e.i(36180);var o=e.i(98925),a=e.i(11152);let n={penalCodeUrl:"https://docs.google.com/spreadsheets/d/1NWTm-yAQWqSVP04MgYjMlStI6WmwCSAhC-_F7ns3hDg/edit?gid=1736425476#gid=1736425476",constitutionUrl:"https://drive.google.com/file/d/1OFTLbR2HKYNjbkxSqQqtHUGfeFvtU090/preview",govCodeUrl:"https://docs.google.com/document/d/11l4n-cCRMyWqchl1oyw3DqlKfZZ6TEDAYfnn7sU67jQ/preview"};function i(){let{userProfile:e,loading:i}=(0,l.useAuth)(),[d,c]=(0,s.useState)(n),[x,m]=(0,s.useState)(!0),[u,g]=(0,s.useState)(!1),[h,p]=(0,s.useState)("idle"),b=e?.roles?.some(e=>["admin","doj"].includes(e));(0,s.useEffect)(()=>{(async()=>{if(e)try{let e=(0,o.doc)(r.db,"settings","doj_resources"),t=await (0,o.getDoc)(e);t.exists()&&c(t.data())}catch(e){console.error("Error fetching settings:",e)}finally{m(!1)}})()},[e]);let f=async t=>{t.preventDefault(),g(!0),p("idle");try{await (0,o.setDoc)((0,o.doc)(r.db,"settings","doj_resources"),{...d,updatedAt:(0,o.serverTimestamp)(),lastEditor:e?.icName||"Unknown"}),p("success"),setTimeout(()=>p("idle"),3e3)}catch(e){console.error("Error saving settings:",e),p("error")}finally{g(!1)}};return i||x?(0,t.jsx)("div",{className:"p-8 text-slate-400 animate-pulse",children:"Loading settings..."}):b?(0,t.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[(0,t.jsxs)("header",{className:"mb-8 border-b border-slate-800 pb-6",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"DOJ Resources"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Manage external document links for the Department of Justice portal."})]}),(0,t.jsxs)("form",{onSubmit:f,className:"space-y-8",children:[(0,t.jsxs)("div",{className:"bg-slate-900/50 p-6 rounded-xl border border-slate-800",children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-amber-500 mb-2 uppercase tracking-wider",children:"Penal Code URL (Google Sheet)"}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("input",{type:"url",value:d.penalCodeUrl,onChange:e=>c({...d,penalCodeUrl:e.target.value}),className:"flex-1 bg-slate-950 border border-slate-700 rounded-lg px-4 py-3 text-white focus:border-amber-500 focus:outline-none font-mono text-sm",placeholder:"https://docs.google.com/spreadsheets/..."}),(0,t.jsx)("a",{href:d.penalCodeUrl,target:"_blank",rel:"noreferrer",className:"px-4 py-3 bg-slate-800 text-slate-400 hover:text-white rounded-lg transition-colors",title:"Test Link",children:(0,t.jsx)(a.FaExternalLinkAlt,{})})]}),(0,t.jsx)("p",{className:"mt-2 text-xs text-slate-500",children:"Recommend using the embed link format or published web link."})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 p-6 rounded-xl border border-slate-800",children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-red-500 mb-2 uppercase tracking-wider",children:"Constitution URL (Google Drive/PDF)"}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("input",{type:"url",value:d.constitutionUrl,onChange:e=>c({...d,constitutionUrl:e.target.value}),className:"flex-1 bg-slate-950 border border-slate-700 rounded-lg px-4 py-3 text-white focus:border-red-500 focus:outline-none font-mono text-sm",placeholder:"https://drive.google.com/..."}),(0,t.jsx)("a",{href:d.constitutionUrl,target:"_blank",rel:"noreferrer",className:"px-4 py-3 bg-slate-800 text-slate-400 hover:text-white rounded-lg transition-colors",title:"Test Link",children:(0,t.jsx)(a.FaExternalLinkAlt,{})})]})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 p-6 rounded-xl border border-slate-800",children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-green-500 mb-2 uppercase tracking-wider",children:"Government Code URL (Google Doc)"}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("input",{type:"url",value:d.govCodeUrl,onChange:e=>c({...d,govCodeUrl:e.target.value}),className:"flex-1 bg-slate-950 border border-slate-700 rounded-lg px-4 py-3 text-white focus:border-green-500 focus:outline-none font-mono text-sm",placeholder:"https://docs.google.com/document/..."}),(0,t.jsx)("a",{href:d.govCodeUrl,target:"_blank",rel:"noreferrer",className:"px-4 py-3 bg-slate-800 text-slate-400 hover:text-white rounded-lg transition-colors",title:"Test Link",children:(0,t.jsx)(a.FaExternalLinkAlt,{})})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-end gap-4 pt-6 border-t border-slate-800",children:["success"===h&&(0,t.jsxs)("span",{className:"text-green-500 flex items-center gap-2 animate-fade-in font-bold",children:[(0,t.jsx)(a.FaCheck,{})," Saved Successfully"]}),"error"===h&&(0,t.jsx)("span",{className:"text-red-500 font-bold",children:"Error Saving. Check Consol/Permissions."}),(0,t.jsxs)("button",{type:"submit",disabled:u,className:`
                            px-8 py-3 rounded-lg font-bold uppercase tracking-wider flex items-center gap-2 transition-all
                            ${u?"bg-slate-700 text-slate-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-500 text-white shadow-lg shadow-blue-900/20"}
                        `,children:[(0,t.jsx)(a.FaSave,{})," ",u?"Saving...":"Save Configuration"]})]})]})]}):(0,t.jsxs)("div",{className:"p-8 text-center",children:[(0,t.jsx)(a.FaExclamationTriangle,{className:"text-4xl text-amber-500 mx-auto mb-4"}),(0,t.jsx)("h1",{className:"text-xl font-bold text-white",children:"Access Denied"}),(0,t.jsx)("p",{className:"text-slate-400 mt-2",children:"You do not have permission to view this page."})]})}e.s(["default",()=>i])}]);