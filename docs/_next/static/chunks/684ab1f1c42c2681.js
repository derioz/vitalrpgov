(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,66317,e=>{"use strict";var t=e.i(59141);e.i(36180);var s=e.i(98925);let a=async e=>{let a=(0,s.query)((0,s.collection)(t.db,e),(0,s.orderBy)("createdAt","desc"));return(await (0,s.getDocs)(a)).docs.map(e=>({id:e.id,...e.data()}))},l=async(e,a)=>{let l=(0,s.doc)(t.db,e,a),r=await (0,s.getDoc)(l);return r.exists()?{id:r.id,...r.data()}:null},r=async(e,a)=>await (0,s.addDoc)((0,s.collection)(t.db,e),{...a,createdAt:s.Timestamp.now()}),o=async(e,a)=>{await (0,s.deleteDoc)((0,s.doc)(t.db,e,a))},i=async(e,a,l)=>{await (0,s.updateDoc)((0,s.doc)(t.db,e,a),l)};e.s(["addDocument",0,r,"deleteDocument",0,o,"getAllDocuments",0,a,"getDocument",0,l,"updateDocument",0,i])},88556,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(66317),l=e.i(18566),r=e.i(32341),o=e.i(11152);let i={LSPD:["Sworn Officer","Civilian","High Command","Detective","SWAT","Dispatcher","Cadet"],LSEMS:["Doctor","Nurse","Paramedic","Therapist","High Command","Surgeon"],SAFD:["Firefighter","Pilot","High Command","Search & Rescue","Inspector"],DOJ:["Judge","Attorney","Paralegal","Clerk","Justices"]};function n(){let[e,n]=(0,s.useState)(""),[c,d]=(0,s.useState)(""),[u,x]=(0,s.useState)(""),[p,b]=(0,s.useState)(""),[m,h]=(0,s.useState)([]),[g,f]=(0,s.useState)(""),[v,j]=(0,s.useState)(!1),w=(0,l.useRouter)(),{userProfile:y}=(0,r.useAuth)(),N=y?.roles?.some(e=>["admin","superadmin"].includes(e)),[S,D]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=new URLSearchParams(window.location.search).get("dept");e&&(d(e),D(!0))},[]);let k=async t=>{t.preventDefault(),j(!0);try{await (0,a.addDocument)("jobs",{title:e,department:c,salary:u,description:p,tags:m,createdAt:new Date().toISOString()}),w.push("/admin/careers")}catch(e){console.error("Error adding document: ",e)}finally{j(!1)}};return(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-8",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-3xl font-black text-white tracking-tight",children:"Post New Job"}),(0,t.jsx)("p",{className:"text-slate-400 mt-2",children:"Create a new career opportunity listing."})]})}),(0,t.jsx)("div",{className:"bg-slate-900/50 backdrop-blur-md border border-slate-800 rounded-2xl p-8",children:(0,t.jsxs)("form",{onSubmit:k,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Job Title"}),(0,t.jsx)("input",{value:e,onChange:e=>n(e.target.value),required:!0,className:"w-full bg-slate-950 border border-slate-800 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-blue-500 transition-colors",placeholder:"e.g. Senior Officer"})]}),(0,t.jsxs)("div",{className:"space-y-2 relative",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider flex items-center gap-2",children:["Department",S&&(0,t.jsx)(o.FaLock,{className:"text-slate-600",size:10})]}),S&&N&&(0,t.jsxs)("button",{type:"button",onClick:()=>D(!1),className:"text-[10px] font-bold text-indigo-400 hover:text-indigo-300 flex items-center gap-1 uppercase tracking-widest transition-colors",children:[(0,t.jsx)(o.FaLockOpen,{size:10})," Override Lock"]})]}),(0,t.jsxs)("select",{value:c,onChange:e=>d(e.target.value),required:!0,disabled:S,className:`w-full bg-slate-950 border border-slate-800 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-blue-500 transition-colors appearance-none ${S?"opacity-50 cursor-not-allowed":""}`,children:[(0,t.jsx)("option",{value:"",disabled:!0,children:"Select Department"}),(0,t.jsx)("option",{value:"LSPD",children:"Los Santos Police (LSPD)"}),(0,t.jsx)("option",{value:"LSEMS",children:"Medical Services (LSEMS)"}),(0,t.jsx)("option",{value:"SAFD",children:"Fire Department (SAFD)"}),(0,t.jsx)("option",{value:"DOJ",children:"Department of Justice (DOJ)"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Salary Range"}),(0,t.jsx)("input",{value:u,onChange:e=>x(e.target.value),required:!0,className:"w-full bg-slate-950 border border-slate-800 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-blue-500 transition-colors",placeholder:"$50,000 - $70,000"})]}),(0,t.jsxs)("div",{className:"space-y-4 pt-2",children:[(0,t.jsx)("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Role Tags"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2 min-h-[32px]",children:m.map(e=>(0,t.jsxs)("span",{className:"bg-blue-500/20 text-blue-300 border border-blue-500/30 px-3 py-1 rounded-full text-sm font-bold flex items-center gap-2",children:[e,(0,t.jsx)("button",{type:"button",onClick:()=>h(m.filter(t=>t!==e)),className:"hover:text-white transition-colors",children:"Ã—"})]},e))}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{value:g,onChange:e=>f(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),g.trim()&&!m.includes(g.trim())&&(h([...m,g.trim()]),f("")))},className:"flex-1 bg-slate-950 border border-slate-800 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-blue-500 transition-colors text-sm",placeholder:"Type a tag and press Enter..."}),(0,t.jsx)("button",{type:"button",onClick:()=>{g.trim()&&!m.includes(g.trim())&&(h([...m,g.trim()]),f(""))},className:"px-4 py-2 bg-slate-800 hover:bg-slate-700 text-white rounded-xl font-bold transition-colors",children:"Add"})]}),c&&i[c]&&(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 animate-fade-in-up",children:[(0,t.jsx)("span",{className:"text-xs text-slate-500 font-mono self-center mr-2",children:"SUGGESTED:"}),i[c].filter(e=>!m.includes(e)).map(e=>(0,t.jsxs)("button",{type:"button",onClick:()=>h([...m,e]),className:"px-3 py-1 text-xs font-bold bg-slate-800/50 hover:bg-slate-700 text-slate-400 hover:text-white border border-slate-700 rounded-lg transition-all",children:["+ ",e]},e))]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Description"}),(0,t.jsx)("textarea",{value:p,onChange:e=>b(e.target.value),required:!0,rows:10,className:"w-full bg-slate-950 border border-slate-800 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-blue-500 transition-colors resize-none",placeholder:"Detailed job description..."})]}),(0,t.jsx)("div",{className:"pt-4 border-t border-slate-800 flex justify-end",children:(0,t.jsx)("button",{type:"submit",disabled:v,className:"px-8 py-3 bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-500 hover:to-blue-400 text-white font-bold rounded-xl shadow-lg shadow-blue-900/20 transition-all transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed",children:v?"Publishing...":"Post Job Opening"})})]})})]})}e.s(["default",()=>n])}]);