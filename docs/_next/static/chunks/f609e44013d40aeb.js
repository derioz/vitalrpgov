(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,66317,e=>{"use strict";var s=e.i(59141);e.i(36180);var t=e.i(98925);let a=async e=>{let a=(0,t.query)((0,t.collection)(s.db,e),(0,t.orderBy)("createdAt","desc"));return(await (0,t.getDocs)(a)).docs.map(e=>({id:e.id,...e.data()}))},l=async(e,a)=>{let l=(0,t.doc)(s.db,e,a),d=await (0,t.getDoc)(l);return d.exists()?{id:d.id,...d.data()}:null},d=async(e,a)=>await (0,t.addDoc)((0,t.collection)(s.db,e),{...a,createdAt:t.Timestamp.now()}),r=async(e,a)=>{await (0,t.deleteDoc)((0,t.doc)(s.db,e,a))},i=async(e,a,l)=>{await (0,t.updateDoc)((0,t.doc)(s.db,e,a),l)};e.s(["addDocument",0,d,"deleteDocument",0,r,"getAllDocuments",0,a,"getDocument",0,l,"updateDocument",0,i])},73446,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(66317),l=e.i(11152);function d(){let[e,d]=(0,t.useState)([]),[r,i]=(0,t.useState)(!0),c=async()=>{d(await (0,a.getAllDocuments)("complaints")),i(!1)};(0,t.useEffect)(()=>{c()},[]);let n=async(e,s)=>{await (0,a.updateDocument)("complaints",e,{status:s}),c()};return(0,s.jsxs)("div",{className:"p-8",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsxs)("h1",{className:"text-3xl font-bold flex items-center gap-3 text-slate-800 dark:text-slate-100",children:[(0,s.jsx)("div",{className:"p-2 bg-red-100 dark:bg-red-900/30 rounded-lg text-red-600",children:(0,s.jsx)(l.FaExclamationCircle,{size:24})}),"Citizen Complaints"]}),(0,s.jsx)("p",{className:"text-slate-500 mt-1 ml-12",children:"Review and adjudicate formal complaints submitted by citizens."})]}),r?(0,s.jsx)("div",{className:"p-12 text-center text-slate-500 animate-pulse",children:"Loading complaints..."}):(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:[e.map(e=>(0,s.jsxs)("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 flex flex-col overflow-hidden hover:shadow-md transition-shadow",children:[(0,s.jsxs)("div",{className:"p-5 border-b border-slate-100 dark:border-slate-800 flex justify-between items-start bg-slate-50/50 dark:bg-slate-800/20",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-white dark:bg-slate-800 shadow-sm flex items-center justify-center text-slate-400",children:(0,s.jsx)(l.FaUser,{})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-bold text-slate-800 dark:text-slate-200",children:e.name}),(0,s.jsxs)("div",{className:"flex items-center gap-1 text-xs text-slate-500",children:[(0,s.jsx)(l.FaPhone,{size:10})," ",e.contact]})]})]}),(0,s.jsx)("span",{className:`px-2.5 py-1 rounded-full text-xs font-bold uppercase tracking-wider ${"Resolved"===e.status?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"Dismissed"===e.status?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400"}`,children:e.status})]}),(0,s.jsxs)("div",{className:"p-5 flex-1 relative",children:[(0,s.jsx)("div",{className:"absolute top-0 left-0 w-1 h-full bg-slate-100 dark:bg-slate-800"}),(0,s.jsxs)("p",{className:"text-sm text-slate-600 dark:text-slate-300 leading-relaxed pl-3 line-clamp-4",children:['"',e.details,'"']})]}),(0,s.jsxs)("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/30 border-t border-slate-100 dark:border-slate-800 flex gap-2",children:[(0,s.jsxs)("button",{onClick:()=>n(e.id,"Resolved"),className:"flex-1 flex items-center justify-center gap-2 py-2 rounded-lg text-sm font-bold text-green-600 hover:bg-green-100 dark:hover:bg-green-900/30 transition-colors",children:[(0,s.jsx)(l.FaCheck,{size:14})," Resolve"]}),(0,s.jsx)("div",{className:"w-px bg-slate-200 dark:bg-slate-700 my-1"}),(0,s.jsxs)("button",{onClick:()=>n(e.id,"Dismissed"),className:"flex-1 flex items-center justify-center gap-2 py-2 rounded-lg text-sm font-bold text-red-600 hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors",children:[(0,s.jsx)(l.FaTimes,{size:14})," Dismiss"]})]})]},e.id)),0===e.length&&(0,s.jsxs)("div",{className:"col-span-full py-20 flex flex-col items-center text-slate-400",children:[(0,s.jsx)(l.FaInbox,{size:48,className:"mb-4 opacity-20"}),(0,s.jsx)("p",{children:"No complaints filed currently."})]})]})]})}e.s(["default",()=>d])}]);