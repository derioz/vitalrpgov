(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,66317,e=>{"use strict";var t=e.i(59141);e.i(36180);var a=e.i(98925);let l=async e=>{let l=(0,a.query)((0,a.collection)(t.db,e),(0,a.orderBy)("createdAt","desc"));return(await (0,a.getDocs)(l)).docs.map(e=>({id:e.id,...e.data()}))},s=async(e,l)=>{let s=(0,a.doc)(t.db,e,l),i=await (0,a.getDoc)(s);return i.exists()?{id:i.id,...i.data()}:null},i=async(e,l)=>await (0,a.addDoc)((0,a.collection)(t.db,e),{...l,createdAt:a.Timestamp.now()}),o=async(e,l)=>{await (0,a.deleteDoc)((0,a.doc)(t.db,e,l))},r=async(e,l,s)=>{await (0,a.updateDoc)((0,a.doc)(t.db,e,l),s)};e.s(["addDocument",0,i,"deleteDocument",0,o,"getAllDocuments",0,l,"getDocument",0,s,"updateDocument",0,r])},28029,e=>{"use strict";var t=e.i(43476),a=e.i(71645),l=e.i(66317),s=e.i(32341),i=e.i(11152);function o(){let{userProfile:e,user:o}=(0,s.useAuth)(),[r,d]=(0,a.useState)(""),[n,c]=(0,a.useState)(""),[u,m]=(0,a.useState)(""),[x,b]=(0,a.useState)(!1),[h,p]=(0,a.useState)(!1);(0,a.useEffect)(()=>{e?.icName&&d(e.icName)},[e]);let g=async e=>{if(e.preventDefault(),!h){p(!0);try{await (0,l.addDocument)("complaints",{name:r,contact:n,details:u,status:"Pending",authorId:o?.uid||null,verified:!!o,department:"DOJ"}),b(!0)}catch(e){console.error(e),alert("Failed to submit complaint.")}finally{p(!1)}}};return x?(0,t.jsxs)("div",{className:"container mx-auto max-w-lg p-8 text-center bg-slate-900 rounded-3xl border border-slate-800 mt-12",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-emerald-500/20 text-emerald-500 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(i.FaUserShield,{size:32})}),(0,t.jsx)("h1",{className:"text-2xl font-bold text-white mb-2",children:"Complaint Filed"}),(0,t.jsx)("p",{className:"text-slate-400 mb-6",children:"Thank you. Your complaint has been securely filed and will be reviewed by the administration."}),(0,t.jsx)("button",{className:"px-6 py-2 bg-slate-800 hover:bg-slate-700 text-white rounded-lg transition-colors font-bold",onClick:()=>{b(!1),m(""),o||d("")},children:"Submit Another"})]}):(0,t.jsxs)("div",{className:"container mx-auto p-4 max-w-xl py-12",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-black text-white mb-2",children:"File a Complaint"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Submit a formal grievance to the Government."})]}),(0,t.jsx)("div",{className:"bg-slate-900 p-8 rounded-3xl border border-slate-800 shadow-xl",children:(0,t.jsxs)("form",{onSubmit:g,className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold uppercase text-slate-500 mb-1",children:"Your Name"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{value:r,onChange:e=>!o&&d(e.target.value),required:!0,readOnly:!!o,className:`w-full bg-slate-950 border ${o?"border-emerald-500/30":"border-slate-800"} rounded-xl py-3 px-4 text-white outline-none focus:border-indigo-500 transition-colors`,placeholder:"Your Full Name"}),o&&(0,t.jsx)(i.FaLock,{className:"absolute right-4 top-3.5 text-emerald-500",title:"Verified Identity Locked"})]}),o&&(0,t.jsxs)("p",{className:"text-[10px] text-emerald-500 mt-1 flex items-center gap-1",children:[(0,t.jsx)(i.FaUserShield,{})," Verified Identity"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold uppercase text-slate-500 mb-1",children:"Contact Info (Phone/Email)"}),(0,t.jsx)("input",{value:n,onChange:e=>c(e.target.value),required:!0,className:"w-full bg-slate-950 border border-slate-800 rounded-xl py-3 px-4 text-white outline-none focus:border-indigo-500 transition-colors"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold uppercase text-slate-500 mb-1",children:"Complaint Details"}),(0,t.jsx)("textarea",{value:u,onChange:e=>m(e.target.value),required:!0,rows:6,className:"w-full bg-slate-950 border border-slate-800 rounded-xl py-3 px-4 text-white outline-none focus:border-indigo-500 transition-colors resize-none"})]}),(0,t.jsx)("button",{type:"submit",disabled:h,className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-3.5 rounded-xl shadow-lg shadow-indigo-500/20 transition-all transform active:scale-95 disabled:opacity-50",children:h?"Submitting...":"Submit Complaint"})]})})]})}e.s(["default",()=>o])}]);