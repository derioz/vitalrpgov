(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,96248,e=>{"use strict";var l=e.i(43476),s=e.i(71645),t=e.i(59141);e.i(36180);var a=e.i(98925),i=e.i(11152),r=e.i(32341);let o=[{id:"balance",icon:i.FaBalanceScale,label:"Scales"},{id:"landmark",icon:i.FaLandmark,label:"Building"},{id:"book",icon:i.FaBook,label:"Book"},{id:"shield",icon:i.FaShieldAlt,label:"Shield"},{id:"heart",icon:i.FaHeartbeat,label:"Heart"},{id:"fire",icon:i.FaFireExtinguisher,label:"Fire"},{id:"gavel",icon:i.FaGavel,label:"Gavel"},{id:"id-card",icon:i.FaIdCard,label:"ID Card"},{id:"car",icon:i.FaCar,label:"Car"},{id:"file",icon:i.FaFileAlt,label:"File"},{id:"link",icon:i.FaLink,label:"Link"},{id:"info",icon:i.FaInfoCircle,label:"Info"}],c=[{id:"amber",class:"bg-amber-500"},{id:"red",class:"bg-red-500"},{id:"green",class:"bg-green-500"},{id:"blue",class:"bg-blue-500"},{id:"indigo",class:"bg-indigo-500"},{id:"sky",class:"bg-sky-500"},{id:"pink",class:"bg-pink-500"},{id:"emerald",class:"bg-emerald-500"},{id:"orange",class:"bg-orange-500"},{id:"yellow",class:"bg-yellow-500"},{id:"slate",class:"bg-slate-500"}];function n({faction:e,pageTitle:n,settingId:d}){let{userProfile:u}=(0,r.useAuth)(),[b,x]=(0,s.useState)([]),[p,g]=(0,s.useState)(!0),[h,m]=(0,s.useState)(!1),[f,v]=(0,s.useState)("idle");(0,s.useEffect)(()=>{(async()=>{try{let l=d||`${e.toLowerCase()}_resources`,s=(0,a.doc)(t.db,"settings",l),i=await (0,a.getDoc)(s);if(i.exists()&&i.data().links)x(i.data().links);else if("DOJ"===e&&l.includes("resources")&&i.exists()){let e=i.data(),l=[];e.penalCodeUrl&&l.push({title:"Penal Code",desc:"Laws & Guidelines",url:e.penalCodeUrl,icon:"balance",color:"amber"}),e.constitutionUrl&&l.push({title:"Constitution",desc:"Supreme Law",url:e.constitutionUrl,icon:"landmark",color:"red"}),e.govCodeUrl&&l.push({title:"Gov Code",desc:"State Rules",url:e.govCodeUrl,icon:"book",color:"green"}),l.length>0&&x(l)}else"DOJ"===e&&l.includes("quicklinks")?x([{title:"Careers",desc:"Join Judicial",url:"#apply",icon:"id-card",color:"amber"},{title:"State Bar",desc:"Attorney Roster",url:"#bar-roster",icon:"landmark",color:"indigo"},{title:"Staff Hub",desc:"DOJ Personnel",url:"#staff",icon:"shield",color:"blue"},{title:"Court Docket",desc:"Case Schedule",url:"#docket",icon:"balance",color:"emerald"}]):"LSPD"===e&&l.includes("quicklinks")?x([{title:"Join LSPD",desc:"Police Academy",url:"#apply",icon:"id-card",color:"blue"},{title:"Staff Roster",desc:"Command Chain",url:"#roster",icon:"shield",color:"indigo"},{title:"SOP Handbook",desc:"Procedural Guides",url:"#sop",icon:"book",color:"sky"},{title:"Impound Lot",desc:"Vehicle Recovery",url:"#impound",icon:"car",color:"slate"}]):"LSEMS"===e&&l.includes("quicklinks")?x([{title:"Join EMS",desc:"Medical Training",url:"#apply",icon:"id-card",color:"red"},{title:"Staff Roster",desc:"On-Call Medics",url:"#roster",icon:"heart",color:"pink"},{title:"Protocols",desc:"Treatment Guides",url:"#protocols",icon:"book",color:"emerald"},{title:"Hospitals",desc:"Facilities",url:"#hospitals",icon:"landmark",color:"blue"}]):"SAFD"===e&&l.includes("quicklinks")&&x([{title:"Join SAFD",desc:"Fire Academy",url:"#apply",icon:"id-card",color:"orange"},{title:"Dept. Roster",desc:"Firefighters",url:"#roster",icon:"shield",color:"red"},{title:"Inspections",desc:"Business Safety",url:"#inspections",icon:"file",color:"yellow"},{title:"Burn Permits",desc:"Public Access",url:"#permit",icon:"fire",color:"green"}])}catch(e){console.error("Error loading resources:",e)}finally{g(!1)}})()},[e,d]);let k=(e,l,s)=>{let t=[...b];t[e]={...t[e],[l]:s},x(t)},j=async()=>{m(!0),v("idle");try{let l=d||`${e.toLowerCase()}_resources`;await (0,a.setDoc)((0,a.doc)(t.db,"settings",l),{links:b,updatedAt:(0,a.serverTimestamp)(),lastEditor:u?.icName||"Unknown"}),v("success"),setTimeout(()=>v("idle"),3e3)}catch(e){console.error("Error saving resources:",e),v("error")}finally{m(!1)}};return p?(0,l.jsx)("div",{className:"p-8 text-slate-400 animate-pulse",children:"Loading editor..."}):(0,l.jsxs)("div",{className:"max-w-5xl mx-auto p-6",children:[(0,l.jsxs)("header",{className:"mb-8 border-b border-slate-800 pb-6 flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:n||`${e} Resources`}),(0,l.jsxs)("p",{className:"text-slate-400",children:['Manage the sidebar "Quick Links" visible on the ',e," portal."]})]}),(0,l.jsxs)("button",{onClick:j,disabled:h,className:`
                        px-6 py-3 rounded-lg font-bold uppercase tracking-wider flex items-center gap-2 transition-all
                        ${h?"bg-slate-700 text-slate-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-500 text-white shadow-lg shadow-blue-900/20"}
                    `,children:[h?(0,l.jsx)("span",{className:"animate-spin",children:"âŸ³"}):(0,l.jsx)(i.FaSave,{}),h?"Saving...":"Save Changes"]})]}),"success"===f&&(0,l.jsxs)("div",{className:"mb-6 p-4 bg-green-500/10 border border-green-500/20 rounded-xl text-green-400 flex items-center gap-3 animate-fade-in",children:[(0,l.jsx)(i.FaCheck,{})," Changes saved successfully! The widget will update immediately."]}),(0,l.jsxs)("div",{className:"space-y-4",children:[b.map((e,s)=>(0,l.jsx)("div",{className:"bg-slate-900/50 p-4 lg:p-6 rounded-xl border border-slate-800 hover:border-slate-700 transition-colors group",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 items-start",children:[(0,l.jsxs)("div",{className:"lg:col-span-3 space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-[10px] uppercase font-bold text-slate-500 tracking-wider mb-2 block",children:"Icon"}),(0,l.jsx)("div",{className:"grid grid-cols-4 gap-2",children:o.map(t=>(0,l.jsx)("button",{type:"button",onClick:()=>k(s,"icon",t.id),className:`p-2 rounded-lg flex items-center justify-center transition-all ${e.icon===t.id?"bg-white text-black ring-2 ring-white":"bg-slate-800 text-slate-400 hover:bg-slate-700"}`,title:t.label,children:(0,l.jsx)(t.icon,{})},t.id))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-[10px] uppercase font-bold text-slate-500 tracking-wider mb-2 block",children:"Theme Color"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:c.map(t=>(0,l.jsx)("button",{type:"button",onClick:()=>k(s,"color",t.id),className:`w-6 h-6 rounded-full transition-all ${t.class} ${e.color===t.id?"ring-2 ring-white ring-offset-2 ring-offset-slate-900 scale-110":"opacity-40 hover:opacity-100"}`,title:t.id},t.id))})]})]}),(0,l.jsxs)("div",{className:"lg:col-span-8 space-y-4",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{className:"text-[10px] uppercase font-bold text-slate-500 tracking-wider",children:"Title"}),(0,l.jsx)("input",{type:"text",value:e.title,onChange:e=>k(s,"title",e.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded-lg px-4 py-2 text-white focus:border-blue-500 focus:outline-none",placeholder:"e.g. Penal Code"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{className:"text-[10px] uppercase font-bold text-slate-500 tracking-wider",children:"Description (Short)"}),(0,l.jsx)("input",{type:"text",value:e.desc,onChange:e=>k(s,"desc",e.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded-lg px-4 py-2 text-white focus:border-blue-500 focus:outline-none",placeholder:"e.g. Laws & Guidelines"})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{className:"text-[10px] uppercase font-bold text-slate-500 tracking-wider",children:"Document URL"}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)("input",{type:"url",value:e.url,onChange:e=>k(s,"url",e.target.value),className:"flex-1 bg-slate-950 border border-slate-700 rounded-lg px-4 py-2 text-white focus:border-blue-500 focus:outline-none font-mono text-xs",placeholder:"https://..."}),(0,l.jsx)("a",{href:e.url,target:"_blank",rel:"noreferrer",className:"p-2 bg-slate-800 text-slate-400 hover:text-white rounded-lg",children:(0,l.jsx)(i.FaExternalLinkAlt,{})})]})]})]}),(0,l.jsx)("div",{className:"lg:col-span-1 flex justify-end",children:(0,l.jsx)("button",{onClick:()=>{let e;(e=[...b]).splice(s,1),x(e)},className:"p-3 text-red-900 hover:text-red-500 hover:bg-red-500/10 rounded-lg transition-colors",title:"Remove Resource",children:(0,l.jsx)(i.FaTrash,{})})})]})},s)),(0,l.jsxs)("button",{onClick:()=>{x([...b,{title:"",desc:"",url:"",icon:"book",color:"blue"}])},className:"w-full py-4 rounded-xl border-2 border-dashed border-slate-800 text-slate-500 hover:text-white hover:border-slate-600 hover:bg-slate-900/50 transition-all flex items-center justify-center gap-2 font-bold uppercase tracking-wider",children:[(0,l.jsx)(i.FaPlus,{})," Add New Resource"]})]})]})}e.s(["default",()=>n])},83354,e=>{"use strict";var l=e.i(43476),s=e.i(96248),t=e.i(32341),a=e.i(11152);function i(){let{userProfile:e,loading:i}=(0,t.useAuth)(),r=e?.roles?.some(e=>["admin","lsems"].includes(e));return i?(0,l.jsx)("div",{className:"p-8 text-slate-400 animate-pulse",children:"Checking permissions..."}):r?(0,l.jsx)(s.default,{faction:"LSEMS",pageTitle:"LSEMS Resources"}):(0,l.jsxs)("div",{className:"p-8 text-center",children:[(0,l.jsx)(a.FaExclamationTriangle,{className:"text-4xl text-amber-500 mx-auto mb-4"}),(0,l.jsx)("h1",{className:"text-xl font-bold text-white",children:"Access Denied"}),(0,l.jsx)("p",{className:"text-slate-400 mt-2",children:"You do not have permission to view this page."})]})}e.s(["default",()=>i])}]);